{"mappings":"AAIA,MAAMA,EAAWC,SAASC,cAAc,sBAClCC,EAAQF,SAASC,cAAc,oBAC/BE,EAAaH,SAASC,cAAc,mBACpCG,EAAcJ,SAASC,cAAc,oBACrCI,EAAgBL,SAASC,cAAc,sBACvCK,EAAgBN,SAASC,cAAc,sBAE7C,IAAIM,EAAa,KAEjBR,EAASS,iBAAiB,SAoB1B,WACEN,EAAMO,aAAa,YAAY,GAC/BV,EAASU,aAAa,YAAY,GAClCF,EAAaG,YAAYC,EAAY,I,IAtBvCZ,EAASU,aAAa,YAAY,GAElC,MAAMG,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACN,IAAIC,EAAeD,EAAc,GACjCpB,EAASsB,gBAAgB,YACrBD,EAAe,IAAIJ,OACrBjB,EAASU,aAAa,YAAY,GAClCa,MAAM,sC,GAKIC,UAAUrB,EAAOU,GAQjC,SAASD,IACP,IACIa,EADetB,EAAMuB,WAAWN,cAAc,GAClB,IAAIH,KAChCU,EAAWC,EAAUH,GAErBA,GAAc,EAChBI,cAAcrB,IAIhBJ,EAAW0B,YAAcH,EAASI,KAClC1B,EAAYyB,YAAcH,EAASK,MACnC1B,EAAcwB,YAAcH,EAASM,QACrC1B,EAAcuB,YAAcH,EAASO,Q,CAGvC,SAASN,EAAUO,GACjB,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAOZ,MAAO,C,KALME,KAAKC,MAAMN,EAAKI,G,MACfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QACtBE,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,G,QACjCI,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EARnC,K,CAajBM,QAAQC,IAAIf,EAAU,MACtBc,QAAQC,IAAIf,EAAU,OACtBc,QAAQC,IAAIf,EAAU","sources":["src/js/02-timer.js"],"sourcesContent":["// import flatpickr from 'flatpickr';\n// import '/flatpickr/dist/flatpickr.min.css';\n// import { Notify } from '/notiflix/build/notiflix-notify-aio';\n\nconst btnStart = document.querySelector('button[data-start]');\nconst input = document.querySelector('#datetime-picker');\nconst outputDays = document.querySelector('span[data-days]');\nconst outputHours = document.querySelector('span[data-hours]');\nconst outputMinutes = document.querySelector('span[data-minutes]');\nconst outputSeconds = document.querySelector('span[data-seconds]');\n\nlet intervalId = null;\n\nbtnStart.addEventListener('click', onClickBtn);\nbtnStart.setAttribute('disabled', true);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    let selectedDate = selectedDates[0];\n    btnStart.removeAttribute('disabled');\n    if (selectedDate < new Date()) {\n      btnStart.setAttribute('disabled', true);\n      alert('Please choose a date in the future');\n    }\n  },\n};\n\nconst setDate = flatpickr(input, options);\n\nfunction onClickBtn() {\n  input.setAttribute('disabled', true);\n  btnStart.setAttribute('disabled', true);\n  intervalId = setInterval(timeUpdate, 1000);\n}\n\nfunction timeUpdate() {\n  let selectedDate = input._flatpickr.selectedDates[0];\n  let timeDiffMs = selectedDate - new Date();\n  let timeDiff = convertMs(timeDiffMs);\n\n  if (timeDiffMs <= 0) {\n    clearInterval(intervalId);\n    return;\n  }\n\n  outputDays.textContent = timeDiff.days;\n  outputHours.textContent = timeDiff.hours;\n  outputMinutes.textContent = timeDiff.minutes;\n  outputSeconds.textContent = timeDiff.seconds;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000));\nconsole.log(convertMs(140000));\nconsole.log(convertMs(24140000));\n"],"names":["$40d383fb392a7037$var$btnStart","document","querySelector","$40d383fb392a7037$var$input","$40d383fb392a7037$var$outputDays","$40d383fb392a7037$var$outputHours","$40d383fb392a7037$var$outputMinutes","$40d383fb392a7037$var$outputSeconds","$40d383fb392a7037$var$intervalId","addEventListener","setAttribute","setInterval","$40d383fb392a7037$var$timeUpdate","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","selectedDate","removeAttribute","alert","flatpickr","timeDiffMs","_flatpickr","timeDiff","$40d383fb392a7037$var$convertMs","clearInterval","textContent","days","hours","minutes","seconds","ms","minute","second","hour","day","Math","floor","console","log"],"version":3,"file":"02-timer.0c49e50f.js.map"}